import*as t from"jquery";var e="default"in t?t.default:t;var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;(function(t){true;t(e)})((function(t,e){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var t=new Date;return UTCDate(t.getFullYear(),t.getMonth(),t.getDate())}function isUTCEquals(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function alias(a,s){return function(){s!==e&&t.fn.datepicker.deprecated(s);return(this||i)[a].apply(this||i,arguments)}}function isValidDate(t){return t&&!isNaN(t.getTime())}var a=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){var e=t&&t.valueOf();for(var a=0,s=(this||i).length;a<s;a++)if(0<=(this||i)[a].valueOf()-e&&(this||i)[a].valueOf()-e<864e5)return a;return-1},remove:function(t){this.splice(t,1)},replace:function(t){if(t){Array.isArray(t)||(t=[t]);this.clear();(this||i).push.apply(this||i,t)}},clear:function(){(this||i).length=0},copy:function(){var t=new a;t.replace(this||i);return t}};return function(){var i=[];i.push.apply(i,arguments);t.extend(i,e);return i}}();var Datepicker=function(e,s){t.data(e,"datepicker",this||i);(this||i)._events=[];(this||i)._secondaryEvents=[];this._process_options(s);(this||i).dates=new a;(this||i).viewDate=(this||i).o.defaultViewDate;(this||i).focusDate=null;(this||i).element=t(e);(this||i).isInput=(this||i).element.is("input");(this||i).inputField=(this||i).isInput?(this||i).element:(this||i).element.find("input");(this||i).component=!!(this||i).element.hasClass("date")&&(this||i).element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn");(this||i).component&&0===(this||i).component.length&&((this||i).component=false);null===(this||i).o.isInline?(this||i).isInline=!(this||i).component&&!(this||i).isInput:(this||i).isInline=(this||i).o.isInline;(this||i).picker=t(h.template);this._check_template((this||i).o.templates.leftArrow)&&(this||i).picker.find(".prev").html((this||i).o.templates.leftArrow);this._check_template((this||i).o.templates.rightArrow)&&(this||i).picker.find(".next").html((this||i).o.templates.rightArrow);this._buildEvents();this._attachEvents();(this||i).isInline?(this||i).picker.addClass("datepicker-inline").appendTo((this||i).element):(this||i).picker.addClass("datepicker-dropdown dropdown-menu");(this||i).o.rtl&&(this||i).picker.addClass("datepicker-rtl");(this||i).o.calendarWeeks&&(this||i).picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",(function(t,e){return Number(e)+1}));this._process_options({startDate:(this||i)._o.startDate,endDate:(this||i)._o.endDate,daysOfWeekDisabled:(this||i).o.daysOfWeekDisabled,daysOfWeekHighlighted:(this||i).o.daysOfWeekHighlighted,datesDisabled:(this||i).o.datesDisabled});(this||i)._allow_update=false;this.setViewMode((this||i).o.startView);(this||i)._allow_update=true;this.fillDow();this.fillMonths();this.update();(this||i).isInline&&this.show()};Datepicker.prototype={constructor:Datepicker,_resolveViewName:function(e){t.each(h.viewModes,(function(i,a){if(e===i||-1!==t.inArray(e,a.names)){e=i;return false}}));return e},_resolveDaysOfWeek:function(e){Array.isArray(e)||(e=e.split(/[,\s]*/));return t.map(e,Number)},_check_template:function(i){try{if(i===e||""===i)return false;if((i.match(/[<>]/g)||[]).length<=0)return true;var a=t(i);return a.length>0}catch(t){return false}},_process_options:function(e){(this||i)._o=t.extend({},(this||i)._o,e);var a=(this||i).o=t.extend({},(this||i)._o);var s=a.language;if(!o[s]){s=s.split("-")[0];o[s]||(s=n.language)}a.language=s;a.startView=this._resolveViewName(a.startView);a.minViewMode=this._resolveViewName(a.minViewMode);a.maxViewMode=this._resolveViewName(a.maxViewMode);a.startView=Math.max((this||i).o.minViewMode,Math.min((this||i).o.maxViewMode,a.startView));if(true!==a.multidate){a.multidate=Number(a.multidate)||false;false!==a.multidate&&(a.multidate=Math.max(0,a.multidate))}a.multidateSeparator=String(a.multidateSeparator);a.weekStart%=7;a.weekEnd=(a.weekStart+6)%7;var r=h.parseFormat(a.format);-Infinity!==a.startDate&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=h.parseDate(a.startDate,r,a.language,a.assumeNearbyYear):a.startDate=-Infinity);Infinity!==a.endDate&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=h.parseDate(a.endDate,r,a.language,a.assumeNearbyYear):a.endDate=Infinity);a.daysOfWeekDisabled=this._resolveDaysOfWeek(a.daysOfWeekDisabled||[]);a.daysOfWeekHighlighted=this._resolveDaysOfWeek(a.daysOfWeekHighlighted||[]);a.datesDisabled=a.datesDisabled||[];Array.isArray(a.datesDisabled)||(a.datesDisabled=a.datesDisabled.split(","));a.datesDisabled=t.map(a.datesDisabled,(function(t){return h.parseDate(t,r,a.language,a.assumeNearbyYear)}));var l=String(a.orientation).toLowerCase().split(/\s+/g),d=a.orientation.toLowerCase();l=t.grep(l,(function(t){return/^auto|left|right|top|bottom$/.test(t)}));a.orientation={x:"auto",y:"auto"};if(d&&"auto"!==d)if(1===l.length)switch(l[0]){case"top":case"bottom":a.orientation.y=l[0];break;case"left":case"right":a.orientation.x=l[0];break}else{d=t.grep(l,(function(t){return/^left|right$/.test(t)}));a.orientation.x=d[0]||"auto";d=t.grep(l,(function(t){return/^top|bottom$/.test(t)}));a.orientation.y=d[0]||"auto"}else;if(a.defaultViewDate instanceof Date||"string"===typeof a.defaultViewDate)a.defaultViewDate=h.parseDate(a.defaultViewDate,r,a.language,a.assumeNearbyYear);else if(a.defaultViewDate){var u=a.defaultViewDate.year||(new Date).getFullYear();var c=a.defaultViewDate.month||0;var p=a.defaultViewDate.day||1;a.defaultViewDate=UTCDate(u,c,p)}else a.defaultViewDate=UTCToday()},_applyEvents:function(t){for(var i,a,s,n=0;n<t.length;n++){i=t[n][0];if(2===t[n].length){a=e;s=t[n][1]}else if(3===t[n].length){a=t[n][1];s=t[n][2]}i.on(s,a)}},_unapplyEvents:function(t){for(var i,a,s,n=0;n<t.length;n++){i=t[n][0];if(2===t[n].length){s=e;a=t[n][1]}else if(3===t[n].length){s=t[n][1];a=t[n][2]}i.off(a,s)}},_buildEvents:function(){var e={keyup:t.proxy((function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this||i),keydown:t.proxy((this||i).keydown,this||i),paste:t.proxy((this||i).paste,this||i)};true===(this||i).o.showOnFocus&&(e.focus=t.proxy((this||i).show,this||i));(this||i).isInput?(this||i)._events=[[(this||i).element,e]]:(this||i).component&&(this||i).inputField.length?(this||i)._events=[[(this||i).inputField,e],[(this||i).component,{click:t.proxy((this||i).show,this||i)}]]:(this||i)._events=[[(this||i).element,{click:t.proxy((this||i).show,this||i),keydown:t.proxy((this||i).keydown,this||i)}]];(this||i)._events.push([(this||i).element,"*",{blur:t.proxy((function(t){(this||i)._focused_from=t.target}),this||i)}],[(this||i).element,{blur:t.proxy((function(t){(this||i)._focused_from=t.target}),this||i)}]);(this||i).o.immediateUpdates&&(this||i)._events.push([(this||i).element,{"changeYear changeMonth":t.proxy((function(t){this.update(t.date)}),this||i)}]);(this||i)._secondaryEvents=[[(this||i).picker,{click:t.proxy((this||i).click,this||i)}],[(this||i).picker,".prev, .next",{click:t.proxy((this||i).navArrowsClick,this||i)}],[(this||i).picker,".day:not(.disabled)",{click:t.proxy((this||i).dayCellClick,this||i)}],[t(window),{resize:t.proxy((this||i).place,this||i)}],[t(document),{"mousedown touchstart":t.proxy((function(t){(this||i).element.is(t.target)||(this||i).element.find(t.target).length||(this||i).picker.is(t.target)||(this||i).picker.find(t.target).length||(this||i).isInline||this.hide()}),this||i)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents((this||i)._events)},_detachEvents:function(){this._unapplyEvents((this||i)._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents((this||i)._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents((this||i)._secondaryEvents)},_trigger:function(e,a){var s=a||(this||i).dates.get(-1),n=this._utc_to_local(s);(this||i).element.trigger({type:e,date:n,viewMode:(this||i).viewMode,dates:t.map((this||i).dates,(this||i)._utc_to_local),format:t.proxy((function(t,e){if(0===arguments.length){t=(this||i).dates.length-1;e=(this||i).o.format}else if("string"===typeof t){e=t;t=(this||i).dates.length-1}e=e||(this||i).o.format;var a=(this||i).dates.get(t);return h.formatDate(a,e,(this||i).o.language)}),this||i)})},show:function(){if(!((this||i).inputField.is(":disabled")||(this||i).inputField.prop("readonly")&&false===(this||i).o.enableOnReadonly)){(this||i).isInline||(this||i).picker.appendTo((this||i).o.container);this.place();(this||i).picker.show();this._attachSecondaryEvents();this._trigger("show");(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&(this||i).o.disableTouchKeyboard&&t((this||i).element).blur();return this||i}},hide:function(){if((this||i).isInline||!(this||i).picker.is(":visible"))return this||i;(this||i).focusDate=null;(this||i).picker.hide().detach();this._detachSecondaryEvents();this.setViewMode((this||i).o.startView);(this||i).o.forceParse&&(this||i).inputField.val()&&this.setValue();this._trigger("hide");return this||i},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();(this||i).picker.remove();delete(this||i).element.data().datepicker;(this||i).isInput||delete(this||i).element.data().date;return this||i},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset()));return e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&UTCDate(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map((this||i).dates,(this||i)._utc_to_local)},getUTCDates:function(){return t.map((this||i).dates,(function(t){return new Date(t)}))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=(this||i).dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){(this||i).inputField.val("");this._trigger("changeDate");this.update();(this||i).o.autoclose&&this.hide()},setDates:function(){var t=Array.isArray(arguments[0])?arguments[0]:arguments;(this||i).update.apply(this||i,t);this._trigger("changeDate");this.setValue();return this||i},setUTCDates:function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;(this||i).setDates.apply(this||i,t.map(e,(this||i)._utc_to_local));return this||i},setDate:alias("setDates"),setUTCDate:alias("setUTCDates"),remove:alias("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();(this||i).inputField.val(t);return this||i},getFormattedDate:function(a){a===e&&(a=(this||i).o.format);var s=(this||i).o.language;return t.map((this||i).dates,(function(t){return h.formatDate(t,a,s)})).join((this||i).o.multidateSeparator)},getStartDate:function(){return(this||i).o.startDate},setStartDate:function(t){this._process_options({startDate:t});this.update();this.updateNavArrows();return this||i},getEndDate:function(){return(this||i).o.endDate},setEndDate:function(t){this._process_options({endDate:t});this.update();this.updateNavArrows();return this||i},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t});this.update();return this||i},setDaysOfWeekHighlighted:function(t){this._process_options({daysOfWeekHighlighted:t});this.update();return this||i},setDatesDisabled:function(t){this._process_options({datesDisabled:t});this.update();return this||i},place:function(){if((this||i).isInline)return this||i;var e=(this||i).picker.outerWidth(),a=(this||i).picker.outerHeight(),s=10,n=t((this||i).o.container),r=n.width(),o="body"===(this||i).o.container?t(document).scrollTop():n.scrollTop(),h=n.offset();var l=[0];(this||i).element.parents().each((function(){var e=t(this||i).css("z-index");"auto"!==e&&0!==Number(e)&&l.push(Number(e))}));var d=Math.max.apply(Math,l)+(this||i).o.zIndexOffset;var u=(this||i).component?(this||i).component.parent().offset():(this||i).element.offset();var c=(this||i).component?(this||i).component.outerHeight(true):(this||i).element.outerHeight(false);var p=(this||i).component?(this||i).component.outerWidth(true):(this||i).element.outerWidth(false);var f=u.left-h.left;var g=u.top-h.top;"body"!==(this||i).o.container&&(g+=o);(this||i).picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if("auto"!==(this||i).o.orientation.x){(this||i).picker.addClass("datepicker-orient-"+(this||i).o.orientation.x);"right"===(this||i).o.orientation.x&&(f-=e-p)}else if(u.left<0){(this||i).picker.addClass("datepicker-orient-left");f-=u.left-s}else if(f+e>r){(this||i).picker.addClass("datepicker-orient-right");f+=p-e}else(this||i).o.rtl?(this||i).picker.addClass("datepicker-orient-right"):(this||i).picker.addClass("datepicker-orient-left");var y,v=(this||i).o.orientation.y;if("auto"===v){y=-o+g-a;v=y<0?"bottom":"top"}(this||i).picker.addClass("datepicker-orient-"+v);"top"===v?g-=a+parseInt((this||i).picker.css("padding-top")):g+=c;if((this||i).o.rtl){var D=r-(f+p);(this||i).picker.css({top:g,right:D,zIndex:d})}else(this||i).picker.css({top:g,left:f,zIndex:d});return this||i},_allow_update:true,update:function(){if(!(this||i)._allow_update)return this||i;var e=(this||i).dates.copy(),a=[],s=false;if(arguments.length){t.each(arguments,t.proxy((function(t,e){e instanceof Date&&(e=this._local_to_utc(e));a.push(e)}),this||i));s=true}else{a=(this||i).isInput?(this||i).element.val():(this||i).element.data("date")||(this||i).inputField.val();a=a&&(this||i).o.multidate?a.split((this||i).o.multidateSeparator):[a];delete(this||i).element.data().date}a=t.map(a,t.proxy((function(t){return h.parseDate(t,(this||i).o.format,(this||i).o.language,(this||i).o.assumeNearbyYear)}),this||i));a=t.grep(a,t.proxy((function(t){return!this.dateWithinRange(t)||!t}),this||i),true);(this||i).dates.replace(a);(this||i).o.updateViewDate&&((this||i).dates.length?(this||i).viewDate=new Date((this||i).dates.get(-1)):(this||i).viewDate<(this||i).o.startDate?(this||i).viewDate=new Date((this||i).o.startDate):(this||i).viewDate>(this||i).o.endDate?(this||i).viewDate=new Date((this||i).o.endDate):(this||i).viewDate=(this||i).o.defaultViewDate);if(s){this.setValue();(this||i).element.change()}else if((this||i).dates.length&&String(e)!==String((this||i).dates)&&s){this._trigger("changeDate");(this||i).element.change()}if(!(this||i).dates.length&&e.length){this._trigger("clearDate");(this||i).element.change()}this.fill();return this||i},fillDow:function(){if((this||i).o.showWeekDays){var e=(this||i).o.weekStart,a="<tr>";(this||i).o.calendarWeeks&&(a+='<th class="cw">&#160;</th>');while(e<(this||i).o.weekStart+7){a+='<th class="dow';-1!==t.inArray(e,(this||i).o.daysOfWeekDisabled)&&(a+=" disabled");a+='">'+o[(this||i).o.language].daysMin[e++%7]+"</th>"}a+="</tr>";(this||i).picker.find(".datepicker-days thead").append(a)}},fillMonths:function(){var t=this._utc_to_local((this||i).viewDate);var e="";var a;for(var s=0;s<12;s++){a=t&&t.getMonth()===s?" focused":"";e+='<span class="month'+a+'">'+o[(this||i).o.language].monthsShort[s]+"</span>"}(this||i).picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?(this||i).range=t.map(e,(function(t){return t.valueOf()})):delete(this||i).range;this.fill()},getClassNames:function(e){var a=[],s=(this||i).viewDate.getUTCFullYear(),n=(this||i).viewDate.getUTCMonth(),r=UTCToday();e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<n?a.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>n)&&a.push("new");(this||i).focusDate&&e.valueOf()===(this||i).focusDate.valueOf()&&a.push("focused");(this||i).o.todayHighlight&&isUTCEquals(e,r)&&a.push("today");-1!==(this||i).dates.contains(e)&&a.push("active");this.dateWithinRange(e)||a.push("disabled");this.dateIsDisabled(e)&&a.push("disabled","disabled-date");-1!==t.inArray(e.getUTCDay(),(this||i).o.daysOfWeekHighlighted)&&a.push("highlighted");if((this||i).range){e>(this||i).range[0]&&e<(this||i).range[(this||i).range.length-1]&&a.push("range");-1!==t.inArray(e.valueOf(),(this||i).range)&&a.push("selected");e.valueOf()===(this||i).range[0]&&a.push("range-start");e.valueOf()===(this||i).range[(this||i).range.length-1]&&a.push("range-end")}return a},_fill_yearsView:function(a,s,n,r,o,h,l){var d="";var u=n/10;var c=(this||i).picker.find(a);var p=Math.floor(r/n)*n;var f=p+9*u;var g=Math.floor((this||i).viewDate.getFullYear()/u)*u;var y=t.map((this||i).dates,(function(t){return Math.floor(t.getUTCFullYear()/u)*u}));var v,D,m;for(var w=p-u;w<=f+u;w+=u){v=[s];D=null;w===p-u?v.push("old"):w===f+u&&v.push("new");-1!==t.inArray(w,y)&&v.push("active");(w<o||w>h)&&v.push("disabled");w===g&&v.push("focused");if(l!==t.noop){m=l(new Date(w,0,1));m===e?m={}:"boolean"===typeof m?m={enabled:m}:"string"===typeof m&&(m={classes:m});false===m.enabled&&v.push("disabled");m.classes&&(v=v.concat(m.classes.split(/\s+/)));m.tooltip&&(D=m.tooltip)}d+='<span class="'+v.join(" ")+'"'+(D?' title="'+D+'"':"")+">"+w+"</span>"}c.find(".datepicker-switch").text(p+"-"+f);c.find("td").html(d)},fill:function(){var a,s,n=new Date((this||i).viewDate),r=n.getUTCFullYear(),l=n.getUTCMonth(),d=-Infinity!==(this||i).o.startDate?(this||i).o.startDate.getUTCFullYear():-Infinity,u=-Infinity!==(this||i).o.startDate?(this||i).o.startDate.getUTCMonth():-Infinity,c=Infinity!==(this||i).o.endDate?(this||i).o.endDate.getUTCFullYear():Infinity,p=Infinity!==(this||i).o.endDate?(this||i).o.endDate.getUTCMonth():Infinity,f=o[(this||i).o.language].today||o.en.today||"",g=o[(this||i).o.language].clear||o.en.clear||"",y=o[(this||i).o.language].titleFormat||o.en.titleFormat,v=UTCToday(),D=(true===(this||i).o.todayBtn||"linked"===(this||i).o.todayBtn)&&v>=(this||i).o.startDate&&v<=(this||i).o.endDate&&!this.weekOfDateIsDisabled(v);if(!isNaN(r)&&!isNaN(l)){(this||i).picker.find(".datepicker-days .datepicker-switch").text(h.formatDate(n,y,(this||i).o.language));(this||i).picker.find("tfoot .today").text(f).css("display",D?"table-cell":"none");(this||i).picker.find("tfoot .clear").text(g).css("display",true===(this||i).o.clearBtn?"table-cell":"none");(this||i).picker.find("thead .datepicker-title").text((this||i).o.title).css("display","string"===typeof(this||i).o.title&&""!==(this||i).o.title?"table-cell":"none");this.updateNavArrows();this.fillMonths();var m=UTCDate(r,l,0),w=m.getUTCDate();m.setUTCDate(w-(m.getUTCDay()-(this||i).o.weekStart+7)%7);var k=new Date(m);m.getUTCFullYear()<100&&k.setUTCFullYear(m.getUTCFullYear());k.setUTCDate(k.getUTCDate()+42);k=k.valueOf();var _=[];var C,b;while(m.valueOf()<k){C=m.getUTCDay();if(C===(this||i).o.weekStart){_.push("<tr>");if((this||i).o.calendarWeeks){var T=new Date(+m+((this||i).o.weekStart-C-7)%7*864e5),M=new Date(Number(T)+(11-T.getUTCDay())%7*864e5),U=new Date(Number(U=UTCDate(M.getUTCFullYear(),0,1))+(11-U.getUTCDay())%7*864e5),x=(M-U)/864e5/7+1;_.push('<td class="cw">'+x+"</td>")}}b=this.getClassNames(m);b.push("day");var V=m.getUTCDate();if((this||i).o.beforeShowDay!==t.noop){s=(this||i).o.beforeShowDay(this._utc_to_local(m));s===e?s={}:"boolean"===typeof s?s={enabled:s}:"string"===typeof s&&(s={classes:s});false===s.enabled&&b.push("disabled");s.classes&&(b=b.concat(s.classes.split(/\s+/)));s.tooltip&&(a=s.tooltip);s.content&&(V=s.content)}b="function"===typeof t.uniqueSort?t.uniqueSort(b):t.unique(b);_.push('<td class="'+b.join(" ")+'"'+(a?' title="'+a+'"':"")+' data-date="'+m.getTime().toString()+'">'+V+"</td>");a=null;C===(this||i).o.weekEnd&&_.push("</tr>");m.setUTCDate(m.getUTCDate()+1)}(this||i).picker.find(".datepicker-days tbody").html(_.join(""));var S=o[(this||i).o.language].monthsTitle||o.en.monthsTitle||"Months";var F=(this||i).picker.find(".datepicker-months").find(".datepicker-switch").text((this||i).o.maxViewMode<2?S:r).end().find("tbody span").removeClass("active");t.each((this||i).dates,(function(t,e){e.getUTCFullYear()===r&&F.eq(e.getUTCMonth()).addClass("active")}));(r<d||r>c)&&F.addClass("disabled");r===d&&F.slice(0,u).addClass("disabled");r===c&&F.slice(p+1).addClass("disabled");if((this||i).o.beforeShowMonth!==t.noop){var A=this||i;t.each(F,(function(i,a){var s=new Date(r,i,1);var n=A.o.beforeShowMonth(s);n===e?n={}:"boolean"===typeof n?n={enabled:n}:"string"===typeof n&&(n={classes:n});false!==n.enabled||t(a).hasClass("disabled")||t(a).addClass("disabled");n.classes&&t(a).addClass(n.classes);n.tooltip&&t(a).prop("title",n.tooltip)}))}this._fill_yearsView(".datepicker-years","year",10,r,d,c,(this||i).o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,r,d,c,(this||i).o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,r,d,c,(this||i).o.beforeShowCentury)}},updateNavArrows:function(){if((this||i)._allow_update){var t,e,a=new Date((this||i).viewDate),s=a.getUTCFullYear(),n=a.getUTCMonth(),r=-Infinity!==(this||i).o.startDate?(this||i).o.startDate.getUTCFullYear():-Infinity,o=-Infinity!==(this||i).o.startDate?(this||i).o.startDate.getUTCMonth():-Infinity,h=Infinity!==(this||i).o.endDate?(this||i).o.endDate.getUTCFullYear():Infinity,l=Infinity!==(this||i).o.endDate?(this||i).o.endDate.getUTCMonth():Infinity,d=1;switch((this||i).viewMode){case 4:d*=10;case 3:d*=10;case 2:d*=10;case 1:t=Math.floor(s/d)*d<=r;e=Math.floor(s/d)*d+d>h;break;case 0:t=s<=r&&n<=o;e=s>=h&&n>=l;break}(this||i).picker.find(".prev").toggleClass("disabled",t);(this||i).picker.find(".next").toggleClass("disabled",e)}},click:function(e){e.preventDefault();e.stopPropagation();var a,s,n,r;a=t(e.target);a.hasClass("datepicker-switch")&&(this||i).viewMode!==(this||i).o.maxViewMode&&this.setViewMode((this||i).viewMode+1);if(a.hasClass("today")&&!a.hasClass("day")){this.setViewMode(0);this._setDate(UTCToday(),"linked"===(this||i).o.todayBtn?null:"view")}a.hasClass("clear")&&this.clearDates();if(!a.hasClass("disabled")&&(a.hasClass("month")||a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))){(this||i).viewDate.setUTCDate(1);s=1;if(1===(this||i).viewMode){r=a.parent().find("span").index(a);n=(this||i).viewDate.getUTCFullYear();(this||i).viewDate.setUTCMonth(r)}else{r=0;n=Number(a.text());(this||i).viewDate.setUTCFullYear(n)}this._trigger(h.viewModes[(this||i).viewMode-1].e,(this||i).viewDate);if((this||i).viewMode===(this||i).o.minViewMode)this._setDate(UTCDate(n,r,s));else{this.setViewMode((this||i).viewMode-1);this.fill()}}(this||i).picker.is(":visible")&&(this||i)._focused_from&&(this||i)._focused_from.focus();delete(this||i)._focused_from},dayCellClick:function(e){var a=t(e.currentTarget);var s=a.data("date");var n=new Date(s);if((this||i).o.updateViewDate){n.getUTCFullYear()!==(this||i).viewDate.getUTCFullYear()&&this._trigger("changeYear",(this||i).viewDate);n.getUTCMonth()!==(this||i).viewDate.getUTCMonth()&&this._trigger("changeMonth",(this||i).viewDate)}this._setDate(n)},navArrowsClick:function(e){var a=t(e.currentTarget);var s=a.hasClass("prev")?-1:1;0!==(this||i).viewMode&&(s*=12*h.viewModes[(this||i).viewMode].navStep);(this||i).viewDate=this.moveMonth((this||i).viewDate,s);this._trigger(h.viewModes[(this||i).viewMode].e,(this||i).viewDate);this.fill()},_toggle_multidate:function(t){var e=(this||i).dates.contains(t);t||(this||i).dates.clear();if(-1!==e)(true===(this||i).o.multidate||(this||i).o.multidate>1||(this||i).o.toggleActive)&&(this||i).dates.remove(e);else if(false===(this||i).o.multidate){(this||i).dates.clear();(this||i).dates.push(t)}else(this||i).dates.push(t);if("number"===typeof(this||i).o.multidate)while((this||i).dates.length>(this||i).o.multidate)(this||i).dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t));(!e&&(this||i).o.updateViewDate||"view"===e)&&((this||i).viewDate=t&&new Date(t));this.fill();this.setValue();e&&"view"===e||this._trigger("changeDate");(this||i).inputField.trigger("change");!(this||i).o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);i.setUTCDate(t.getUTCDate()+e);return i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!isValidDate(t))return(this||i).o.defaultViewDate;if(!e)return t;var a,s,n=new Date(t.valueOf()),r=n.getUTCDate(),o=n.getUTCMonth(),h=Math.abs(e);e=e>0?1:-1;if(1===h){s=-1===e?function(){return n.getUTCMonth()===o}:function(){return n.getUTCMonth()!==a};a=o+e;n.setUTCMonth(a);a=(a+12)%12}else{for(var l=0;l<h;l++)n=this.moveMonth(n,e);a=n.getUTCMonth();n.setUTCDate(r);s=function(){return a!==n.getUTCMonth()}}while(s()){n.setUTCDate(--r);n.setUTCMonth(a)}return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{t=this[i](t,e);if(!this.dateWithinRange(t))return false;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),(this||i).o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep((this||i).o.datesDisabled,(function(t){return isUTCEquals(e,t)})).length>0},dateWithinRange:function(t){return t>=(this||i).o.startDate&&t<=(this||i).o.endDate},keydown:function(t){if((this||i).picker.is(":visible")){var e,a,s=false,n=(this||i).focusDate||(this||i).viewDate;switch(t.keyCode){case 27:if((this||i).focusDate){(this||i).focusDate=null;(this||i).viewDate=(this||i).dates.get(-1)||(this||i).viewDate;this.fill()}else this.hide();t.preventDefault();t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!(this||i).o.keyboardNavigation||7===(this||i).o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1;if(0===(this||i).viewMode)if(t.ctrlKey){a=this.moveAvailableDate(n,e,"moveYear");a&&this._trigger("changeYear",(this||i).viewDate)}else if(t.shiftKey){a=this.moveAvailableDate(n,e,"moveMonth");a&&this._trigger("changeMonth",(this||i).viewDate)}else 37===t.keyCode||39===t.keyCode?a=this.moveAvailableDate(n,e,"moveDay"):this.weekOfDateIsDisabled(n)||(a=this.moveAvailableDate(n,e,"moveWeek"));else if(1===(this||i).viewMode){38!==t.keyCode&&40!==t.keyCode||(e*=4);a=this.moveAvailableDate(n,e,"moveMonth")}else if(2===(this||i).viewMode){38!==t.keyCode&&40!==t.keyCode||(e*=4);a=this.moveAvailableDate(n,e,"moveYear")}if(a){(this||i).focusDate=(this||i).viewDate=a;this.setValue();this.fill();t.preventDefault()}break;case 13:if(!(this||i).o.forceParse)break;n=(this||i).focusDate||(this||i).dates.get(-1)||(this||i).viewDate;if((this||i).o.keyboardNavigation){this._toggle_multidate(n);s=true}(this||i).focusDate=null;(this||i).viewDate=(this||i).dates.get(-1)||(this||i).viewDate;this.setValue();this.fill();if((this||i).picker.is(":visible")){t.preventDefault();t.stopPropagation();(this||i).o.autoclose&&this.hide()}break;case 9:(this||i).focusDate=null;(this||i).viewDate=(this||i).dates.get(-1)||(this||i).viewDate;this.fill();this.hide();break}if(s){(this||i).dates.length?this._trigger("changeDate"):this._trigger("clearDate");(this||i).inputField.trigger("change")}}else if(40===t.keyCode||27===t.keyCode){this.show();t.stopPropagation()}},setViewMode:function(t){(this||i).viewMode=t;(this||i).picker.children("div").hide().filter(".datepicker-"+h.viewModes[(this||i).viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date((this||i).viewDate))}};var DateRangePicker=function(e,a){t.data(e,"datepicker",this||i);(this||i).element=t(e);(this||i).inputs=t.map(a.inputs,(function(t){return t.jquery?t[0]:t}));delete a.inputs;(this||i).keepEmptyValues=a.keepEmptyValues;delete a.keepEmptyValues;datepickerPlugin.call(t((this||i).inputs),a).on("changeDate",t.proxy((this||i).dateUpdated,this||i));(this||i).pickers=t.map((this||i).inputs,(function(e){return t.data(e,"datepicker")}));this.updateDates()};DateRangePicker.prototype={updateDates:function(){(this||i).dates=t.map((this||i).pickers,(function(t){return t.getUTCDate()}));this.updateRanges()},updateRanges:function(){var e=t.map((this||i).dates,(function(t){return t.valueOf()}));t.each((this||i).pickers,(function(t,i){i.setRange(e)}))},clearDates:function(){t.each((this||i).pickers,(function(t,e){e.clearDates()}))},dateUpdated:function(a){if(!(this||i).updating){(this||i).updating=true;var s=t.data(a.target,"datepicker");if(s!==e){var n=s.getUTCDate(),r=(this||i).keepEmptyValues,o=t.inArray(a.target,(this||i).inputs),h=o-1,l=o+1,d=(this||i).inputs.length;if(-1!==o){t.each((this||i).pickers,(function(t,e){e.getUTCDate()||e!==s&&r||e.setUTCDate(n)}));if(n<(this||i).dates[h])while(h>=0&&n<(this||i).dates[h]&&((this||i).pickers[h].element.val()||"").length>0)(this||i).pickers[h--].setUTCDate(n);else if(n>(this||i).dates[l])while(l<d&&n>(this||i).dates[l]&&((this||i).pickers[l].element.val()||"").length>0)(this||i).pickers[l++].setUTCDate(n);this.updateDates();delete(this||i).updating}}}},destroy:function(){t.map((this||i).pickers,(function(t){t.destroy()}));t((this||i).inputs).off("changeDate",(this||i).dateUpdated);delete(this||i).element.data().datepicker},remove:alias("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};function opts_from_el(e,i){var a,s=t(e).data(),n={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());function re_lower(t,e){return e.toLowerCase()}for(var o in s)if(i.test(o)){a=o.replace(r,re_lower);n[a]=s[o]}return n}function opts_from_locale(e){var i={};if(!o[e]){e=e.split("-")[0];if(!o[e])return}var a=o[e];t.each(r,(function(t,e){e in a&&(i[e]=a[e])}));return i}var s=t.fn.datepicker;var datepickerPlugin=function(a){var s=Array.apply(null,arguments);s.shift();var r;this.each((function(){var e=t(this||i),o=e.data("datepicker"),h="object"===typeof a&&a;if(!o){var l=opts_from_el(this||i,"date"),d=t.extend({},n,l,h),u=opts_from_locale(d.language),c=t.extend({},n,u,l,h);if(e.hasClass("input-daterange")||c.inputs){t.extend(c,{inputs:c.inputs||e.find("input").toArray()});o=new DateRangePicker(this||i,c)}else o=new Datepicker(this||i,c);e.data("datepicker",o)}"string"===typeof a&&"function"===typeof o[a]&&(r=o[a].apply(o,s))}));if(r===e||r instanceof Datepicker||r instanceof DateRangePicker)return this||i;if((this||i).length>1)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return r};t.fn.datepicker=datepickerPlugin;var n=t.fn.datepicker.defaults={assumeNearbyYear:false,autoclose:false,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:false,clearBtn:false,toggleActive:false,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",isInline:null,keepEmptyValues:false,keyboardNavigation:true,language:"en",minViewMode:0,maxViewMode:4,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,updateViewDate:true,weekStart:0,disableTouchKeyboard:false,enableOnReadonly:true,showOnFocus:true,zIndexOffset:10,container:"body",immediateUpdates:false,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:true};var r=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=Datepicker;var o=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};var h={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"===typeof t.toValue&&"function"===typeof t.toDisplay)return t;var e=t.replace((this||i).validParts,"\0").split("\0"),a=t.match((this||i).validParts);if(!e||!e.length||!a||0===a.length)throw new Error("Invalid date format.");return{separators:e,parts:a}},parseDate:function(a,s,n,r){if(!a)return e;if(a instanceof Date)return a;"string"===typeof s&&(s=h.parseFormat(s));if(s.toValue)return s.toValue(a,s,n);var l,d,u,c,p,f={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},g={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};a in g&&(a=g[a]);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(a)){l=a.match(/([\-+]\d+)([dmwy])/gi);a=new Date;for(c=0;c<l.length;c++){d=l[c].match(/([\-+]\d+)([dmwy])/i);u=Number(d[1]);p=f[d[2].toLowerCase()];a=Datepicker.prototype[p](a,u)}return Datepicker.prototype._zero_utc_time(a)}l=a&&a.match((this||i).nonpunctuation)||[];function applyNearbyYear(t,e){true===e&&(e=10);if(t<100){t+=2e3;t>(new Date).getFullYear()+e&&(t-=100)}return t}var y,v,D={},m=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(r?applyNearbyYear(e,r):e)},m:function(t,e){if(isNaN(t))return t;e-=1;while(e<0)e+=12;e%=12;t.setUTCMonth(e);while(t.getUTCMonth()!==e)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.yy=w.yyyy;w.M=w.MM=w.mm=w.m;w.dd=w.d;a=UTCToday();var k=s.parts.slice();l.length!==k.length&&(k=t(k).filter((function(e,i){return-1!==t.inArray(i,m)})).toArray());function match_part(){var t=this.slice(0,l[c].length),e=l[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(l.length===k.length){var _;for(c=0,_=k.length;c<_;c++){y=parseInt(l[c],10);d=k[c];if(isNaN(y))switch(d){case"MM":v=t(o[n].months).filter(match_part);y=t.inArray(v[0],o[n].months)+1;break;case"M":v=t(o[n].monthsShort).filter(match_part);y=t.inArray(v[0],o[n].monthsShort)+1;break}D[d]=y}var C,b;for(c=0;c<m.length;c++){b=m[c];if(b in D&&!isNaN(D[b])){C=new Date(a);w[b](C,D[b]);isNaN(C)||(a=C)}}}return a},formatDate:function(e,i,a){if(!e)return"";"string"===typeof i&&(i=h.parseFormat(i));if(i.toDisplay)return i.toDisplay(e,i,a);var s={d:e.getUTCDate(),D:o[a].daysShort[e.getUTCDay()],DD:o[a].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:o[a].monthsShort[e.getUTCMonth()],MM:o[a].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d;s.mm=(s.m<10?"0":"")+s.m;e=[];var n=t.extend([],i.separators);for(var r=0,l=i.parts.length;r<=l;r++){n.length&&e.push(n.shift());e.push(s[i.parts[r]])}return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+n.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+n.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>";t.fn.datepicker.DPGlobal=h;t.fn.datepicker.noConflict=function(){t.fn.datepicker=s;return this||i};t.fn.datepicker.version="1.10.0";t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)};t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(function(e){var a=t(this||i);if(!a.data("datepicker")){e.preventDefault();datepickerPlugin.call(a,"show")}}));t((function(){datepickerPlugin.call(t('[data-provide="datepicker-inline"]'))}))}));var a={};export{a as default};

